# aws_lb

This module allows the creation of a load balancer and associated resources. It supports
application and network load balancers, but not gateway load balancers.

Some variables are exclusive to one type of load balancer, which is indicated by a
variable name prefix of `alb_` or `nlb_`. The variable `redirect_80_to_443` can be used
instead of setting up listeners for redirection manually. When used with a NLB, it
creates a separate ALB just to use for the redirect.

Target group names are randomly generated by Terraform to avoid length issues.

It's recommended to use the outputs of the aws_vpc module to obtain VPC and subnet IDs
as shown in the examples. This allows Terraform to correctly calculate dependencies so
you can build your VPC and LBs in one run. This may not always be possible, for example
if you're creating a LB in a network account where the VPC isn't managed by Terraform.

## Provider Requirements

This module requires two providers:

1) A default provider which is assuming a role in the account where the load balancer
resources will be created
2) A non-default provider with the alias `aws.support_account` which is assuming a role
in the Parsons Commercial Support account. This is used to add certificate domain
validation records to Route 53. This Commercial account holds the hosted zones for both
parsons.com and parsons.us
